<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise.all/Promise.race</title>
</head>
<body>
<script>
    //1.Promise.all() - 将多个Promise 实例(相当于多个异步操作)包装成一个新的Promises实例
    let p1 = new Promise(function(resolve,reject){});
    let p2 = new Promise(function(resolve,reject){});
    let p3 = new Promise(function(resolve,reject){});
    let p = Promise.all([p1,p2,p3]);
    /*状态决定（相当于是与的关系）
    （1）只有p1、p2、p3的状态都变成fulfilled，p的状态才会变成fulfilled，此时p1、p2、p3的返回值组成一个数组，传递给p的回调函数。

    （2）只要p1、p2、p3之中有一个被rejected，p的状态就变成rejected，此时第一个被reject的实例的返回值，会传递给p的回调函数。
    */

    //2.Promise.race() //将多个Promise实例包装成一个对象 （只要p1、p2、p3之中有一个实例率先改变状态，p的状态就跟着改变。那个率先改变的 Promise 实例的返回值，就传递给p的回调函数。）

    //3.Promise.resolve() - 将现有对象，转换为promise对象

    //案例
    let promises = [2,3,4,5,6,7].map(
        (id) =>getJson(`/post${id}.json`)
    );
    promises.then(function(post){
        
    }).catch(function(error){

    });


    //2.Promise.race([p1,p2,p3]) - 将多个promise实例，包装城一个Promise 实例 (或决定状态) - 只要其中一个Promise实例率先改变状态，包装的Promise实例就会改变

    //案例
   
</script>
</body>
</html>